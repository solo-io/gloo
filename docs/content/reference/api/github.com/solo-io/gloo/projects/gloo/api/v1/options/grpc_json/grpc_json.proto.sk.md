
---
title: "grpc_json.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `grpc_json.options.gloo.solo.io` 
#### Types:


- [GrpcJsonTranscoder](#grpcjsontranscoder)
- [PrintOptions](#printoptions)
  



##### Source File: [github.com/solo-io/gloo/projects/gloo/api/v1/options/grpc_json/grpc_json.proto](https://github.com/solo-io/gloo/blob/master/projects/gloo/api/v1/options/grpc_json/grpc_json.proto)





---
### GrpcJsonTranscoder

 
[#next-free-field: 10]

```yaml
"protoDescriptor": string
"protoDescriptorBin": bytes
"services": []string
"printOptions": .grpc_json.options.gloo.solo.io.GrpcJsonTranscoder.PrintOptions
"matchIncomingRequestRoute": bool
"ignoredQueryParameters": []string
"autoMapping": bool
"ignoreUnknownQueryParameters": bool
"convertGrpcStatus": bool

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `protoDescriptor` | `string` | Supplies the filename of :ref:`the proto descriptor set <config_grpc_json_generate_proto_descriptor_set>` for the gRPC services. Only one of `protoDescriptor` or `protoDescriptorBin` can be set. |
| `protoDescriptorBin` | `bytes` | Supplies the binary content of :ref:`the proto descriptor set <config_grpc_json_generate_proto_descriptor_set>` for the gRPC services. Note: in yaml, this must be provided as a base64 standard encoded string; yaml can't handle binary bytes. Only one of `protoDescriptorBin` or `protoDescriptor` can be set. |
| `services` | `[]string` | A list of strings that supplies the fully qualified service names (i.e. "package_name.service_name") that the transcoder will translate. If the service name doesn't exist in ``proto_descriptor``, Envoy will fail at startup. The ``proto_descriptor`` may contain more services than the service names specified here, but they won't be translated. |
| `printOptions` | [.grpc_json.options.gloo.solo.io.GrpcJsonTranscoder.PrintOptions](../grpc_json.proto.sk/#printoptions) | Control options for response JSON. These options are passed directly to `JsonPrintOptions <https://developers.google.com/protocol-buffers/docs/reference/cpp/ google.protobuf.util.json_util#JsonPrintOptions>`_. |
| `matchIncomingRequestRoute` | `bool` | Whether to keep the incoming request route after the outgoing headers have been transformed to the match the upstream gRPC service. Note: This means that routes for gRPC services that are not transcoded cannot be used in combination with *match_incoming_request_route*. |
| `ignoredQueryParameters` | `[]string` | A list of query parameters to be ignored for transcoding method mapping. By default, the transcoder filter will not transcode a request if there are any unknown/invalid query parameters. Example : .. code-block:: proto service Bookstore { rpc GetShelf(GetShelfRequest) returns (Shelf) { option (google.api.http) = { get: "/shelves/{shelf}" }; } } message GetShelfRequest { int64 shelf = 1; } message Shelf {} The request ``/shelves/100?foo=bar`` will not be mapped to ``GetShelf``` because variable binding for ``foo`` is not defined. Adding ``foo`` to ``ignored_query_parameters`` will allow the same request to be mapped to ``GetShelf``. |
| `autoMapping` | `bool` | Whether to route methods without the ``google.api.http`` option. Example : .. code-block:: proto package bookstore; service Bookstore { rpc GetShelf(GetShelfRequest) returns (Shelf) {} } message GetShelfRequest { int64 shelf = 1; } message Shelf {} The client could ``post`` a json body ``{"shelf": 1234}`` with the path of ``/bookstore.Bookstore/GetShelfRequest`` to call ``GetShelfRequest``. |
| `ignoreUnknownQueryParameters` | `bool` | Whether to ignore query parameters that cannot be mapped to a corresponding protobuf field. Use this if you cannot control the query parameters and do not know them beforehand. Otherwise use ``ignored_query_parameters``. Defaults to false. |
| `convertGrpcStatus` | `bool` | Whether to convert gRPC status headers to JSON. When trailer indicates a gRPC error and there was no HTTP body, take ``google.rpc.Status`` from the ``grpc-status-details-bin`` header and use it as JSON body. If there was no such header, make ``google.rpc.Status`` out of the ``grpc-status`` and ``grpc-message`` headers. The error details types must be present in the ``proto_descriptor``. For example, if an upstream server replies with headers: .. code-block:: none grpc-status: 5 grpc-status-details-bin: CAUaMwoqdHlwZS5nb29nbGVhcGlzLmNvbS9nb29nbGUucnBjLlJlcXVlc3RJbmZvEgUKA3ItMQ The ``grpc-status-details-bin`` header contains a base64-encoded protobuf message ``google.rpc.Status``. It will be transcoded into: .. code-block:: none HTTP/1.1 404 Not Found content-type: application/json {"code":5,"details":[{"@type":"type.googleapis.com/google.rpc.RequestInfo","requestId":"r-1"}]} In order to transcode the message, the ``google.rpc.RequestInfo`` type from the ``google/rpc/error_details.proto`` should be included in the configured :ref:`proto descriptor set <config_grpc_json_generate_proto_descriptor_set>`. |




---
### PrintOptions



```yaml
"addWhitespace": bool
"alwaysPrintPrimitiveFields": bool
"alwaysPrintEnumsAsInts": bool
"preserveProtoFieldNames": bool

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `addWhitespace` | `bool` | Whether to add spaces, line breaks and indentation to make the JSON output easy to read. Defaults to false. |
| `alwaysPrintPrimitiveFields` | `bool` | Whether to always print primitive fields. By default primitive fields with default values will be omitted in JSON output. For example, an int32 field set to 0 will be omitted. Setting this flag to true will override the default behavior and print primitive fields regardless of their values. Defaults to false. |
| `alwaysPrintEnumsAsInts` | `bool` | Whether to always print enums as ints. By default they are rendered as strings. Defaults to false. |
| `preserveProtoFieldNames` | `bool` | Whether to preserve proto field names. By default protobuf will generate JSON field names using the ``json_name`` option, or lower camel case, in that order. Setting this flag will preserve the original field names. Defaults to false. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
