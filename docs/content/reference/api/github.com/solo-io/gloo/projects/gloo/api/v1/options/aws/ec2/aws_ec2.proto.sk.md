
---
title: "aws_ec2.proto"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `aws_ec2.options.gloo.solo.io` 
#### Types:


- [UpstreamSpec](#upstreamspec)
- [TagFilter](#tagfilter)
- [KvPair](#kvpair)
  



##### Source File: [github.com/solo-io/gloo/projects/gloo/api/v1/options/aws/ec2/aws_ec2.proto](https://github.com/solo-io/gloo/blob/main/projects/gloo/api/v1/options/aws/ec2/aws_ec2.proto)





---
### UpstreamSpec

 
Upstream Spec for AWS Lambda Upstreams
AWS Upstreams represent a collection of Lambda Functions for a particular AWS Account (IAM Role or User account)
in a particular region

```yaml
"region": string
"secretRef": .core.solo.io.ResourceRef
"roleArn": string
"filters": []aws_ec2.options.gloo.solo.io.TagFilter
"publicIp": bool
"port": int

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `region` | `string` | The AWS Region where the desired EC2 instances exist. |
| `secretRef` | [.core.solo.io.ResourceRef](../../../../../../../../../solo-kit/api/v1/ref.proto.sk/#resourceref) | Optional, if not set, Gloo will try to use the default AWS secret specified by environment variables. If a secret is not provided, the environment must specify both the AWS access key and secret. The environment variables used to indicate the AWS account can be: - for the access key: "AWS_ACCESS_KEY_ID" or "AWS_ACCESS_KEY" - for the secret: "AWS_SECRET_ACCESS_KEY" or "AWS_SECRET_KEY" If set, a [Gloo Secret Ref](https://docs.solo.io/gloo-edge/latest/reference/cli/glooctl_create_secret_aws/) to an AWS Secret AWS Secrets can be created with `glooctl secret create aws ...` If the secret is created manually, it must conform to the following structure: ``` access_key: <aws access key> secret_key: <aws secret key> ``` Gloo will create an EC2 API client with this credential. You may choose to use a credential with limited access in conjunction with a list of Roles, specified by their Amazon Resource Number (ARN). |
| `roleArn` | `string` | Optional, Amazon Resource Number (ARN) referring to IAM Role that should be assumed when the Upstream queries for eligible EC2 instances. If provided, Gloo will create an EC2 API client with the provided role. If not provided, Gloo will not assume a role. |
| `filters` | [[]aws_ec2.options.gloo.solo.io.TagFilter](../aws_ec2.proto.sk/#tagfilter) | List of tag filters for selecting instances An instance must match all the filters in order to be selected Filter keys are not case-sensitive. |
| `publicIp` | `bool` | If set, will use the EC2 public IP address. Defaults to the private IP address. |
| `port` | `int` | If set, will use this port on EC2 instances. Defaults to 0. |




---
### TagFilter



```yaml
"key": string
"kvPair": .aws_ec2.options.gloo.solo.io.TagFilter.KvPair

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `key` | `string` | if set, only instances that have a tag with this key will be matched keys are not case-sensitive, as with AWS Condition Keys. Only one of `key` or `kvPair` can be set. |
| `kvPair` | [.aws_ec2.options.gloo.solo.io.TagFilter.KvPair](../aws_ec2.proto.sk/#kvpair) | if set, only instances that have a tag with this key and value. Only one of `kvPair` or `key` can be set. |




---
### KvPair



```yaml
"key": string
"value": string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `key` | `string` | keys are not case-sensitive, as with AWS Condition Keys. |
| `value` | `string` | values are case-sensitive. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
