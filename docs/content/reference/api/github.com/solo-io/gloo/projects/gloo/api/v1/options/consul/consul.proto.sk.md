
---
title: "Consul"
weight: 5
---

<!-- Code generated by solo-kit. DO NOT EDIT. -->


### Package: `consul.options.gloo.solo.io` 
**Types:**


- [UpstreamSpec](#upstreamspec)
  



**Source File: [github.com/solo-io/gloo/projects/gloo/api/v1/options/consul/consul.proto](https://github.com/solo-io/gloo/blob/main/projects/gloo/api/v1/options/consul/consul.proto)**





---
### UpstreamSpec

 
Upstream Spec for Consul Upstreams
consul Upstreams represent a set of one or more addressable pods for a consul Service
the Gloo consul Upstream maps to a single service port. Because consul Services support multiple ports,
Gloo requires that a different upstream be created for each port
consul Upstreams are typically generated automatically by Gloo from the consul API

```yaml
"serviceName": string
"serviceTags": []string
"subsetTags": []string
"instanceTags": []string
"instanceBlacklistTags": []string
"serviceSpec": .options.gloo.solo.io.ServiceSpec
"consistencyMode": .consul.options.gloo.solo.io.ConsulConsistencyModes
"queryOptions": .consul.options.gloo.solo.io.QueryOptions
"connectEnabled": bool
"dataCenters": []string

```

| Field | Type | Description |
| ----- | ---- | ----------- | 
| `serviceName` | `string` | The name of the Consul Service. |
| `serviceTags` | `[]string` | Deprecated: This field was renamed to subset_tags. If subset_tags is used, this field is ignored. Otherwise, the behavior is the same as subset_tags field below. |
| `subsetTags` | `[]string` | Gloo will segment instances based off of these tags. This allows you to set routes that route to a subset of the instances of the service. |
| `instanceTags` | `[]string` | The list of service tags Gloo should search for on a service instance before deciding whether or not to include the instance as part of this upstream. Empty list means that all service instances with the same service name will be included. When not empty, only service instances that match all of the tags (subset match) will be selected for this upstream. |
| `instanceBlacklistTags` | `[]string` | The opposite of instanceTags, this is a list of service tags that gloo should ensure are not in a service instance before including it in an upstream. |
| `serviceSpec` | [.options.gloo.solo.io.ServiceSpec](../../service_spec.proto.sk/#servicespec) | An optional Service Spec describing the service listening at this address. |
| `consistencyMode` | [.consul.options.gloo.solo.io.ConsulConsistencyModes](../query_options.proto.sk/#consulconsistencymodes) | Sets the consistency mode. The default is DefaultMode. Note: Gloo handles staleness well (as it runs update loops ~ once/second) but makes many requests to get consul endpoints so users may want to opt into stale reads once the implications are understood. |
| `queryOptions` | [.consul.options.gloo.solo.io.QueryOptions](../query_options.proto.sk/#queryoptions) | QueryOptions are the query options to use for all Consul queries. |
| `connectEnabled` | `bool` | Is this consul service connect enabled. |
| `dataCenters` | `[]string` | The data centers in which the service instance represented by this upstream is registered. |





<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/5130874.js"></script>
<!-- End of HubSpot Embed Code -->
