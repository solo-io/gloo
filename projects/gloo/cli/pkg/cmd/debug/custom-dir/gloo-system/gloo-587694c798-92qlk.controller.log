{"level":"info","ts":"2024-12-05T21:38:28.574Z","caller":"probes/probes.go:57","msg":"probe server starting at :8765 listening for /healthz"}
2024-12-05T21:38:28.645651Z	info	klog	attempting to acquire leader lease gloo-system/gloo...
2024-12-05T21:38:28.696929Z	info	klog	successfully acquired lease gloo-system/gloo
{"level":"info","ts":"2024-12-05T21:38:28.739Z","caller":"setup/setup.go:68","msg":"new leader elected with ID: gloo-587694c798-92qlk_7c9863f1-2ce3-4eee-a373-1e52db8d0c48"}
{"level":"info","ts":"2024-12-05T21:38:28.739Z","logger":"gloo","caller":"setup/setup.go:65","msg":"starting leadership","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:29.064Z","logger":"gloo.v1.event_loop","caller":"v1/setup_event_loop.sk.go:79","msg":"event loop started","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.079Z","logger":"gloo.v1.event_loop.setup.v1.event_loop","caller":"v1/eds_event_loop.sk.go:79","msg":"event loop started","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.093Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/run.go:35","msg":"begin sync 16997748085184385202 (13 upstreams)","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.097Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/discovery.go:194","msg":"Received first EDS update from plugin: *ec2.plugin","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.197Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/run.go:65","msg":"end sync 16997748085184385202","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.206Z","logger":"gloo.v1.event_loop.setup.v1.event_loop.syncer","caller":"discovery/discovery.go:194","msg":"Received first EDS update from plugin: *kubernetes.plugin","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.250Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"gloosnapshot/api_event_loop.sk.go:79","msg":"event loop started","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.275Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:94","msg":"begin sync 1363939153113228804 (0 virtual services, 0 gateways, 0 route tables)","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.276Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:106","msg":"end sync 1363939153113228804","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.278Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:106","msg":"begin sync 1363939153113228804 (0 edge proxies, 13 upstreams, 6 endpoints, 3 secrets, 17 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.278Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:216","msg":"end sync 1363939153113228804","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.281Z","logger":"gloo.v1.event_loop.setup","caller":"setup/setup_syncer.go:1029","msg":"starting gateway validation server","version":"1.0.1-dev","port":8443,"cert":"/etc/gateway/validation-certs/tls.crt","key":"/etc/gateway/validation-certs/tls.key"}
{"level":"info","ts":"2024-12-05T21:38:33.368Z","logger":"gloo.v1.event_loop.setup","caller":"setup/setup_syncer.go:1085","msg":"Gloo setup completed successfully","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.369Z","logger":"gloo.v1.event_loop.setup.admin-server","caller":"setup/start_func.go:40","msg":"starting admin-server goroutine","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.370Z","logger":"gloo.v1.event_loop.setup.admin-server","caller":"admin/server.go:122","msg":"Admin server starting at localhost:9095","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:33.375Z","logger":"gloo.v1.event_loop.setup.admin-server","caller":"stats/stats.go:96","msg":"Stats server starting at :9091","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.295Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:101","msg":"last validation snapshot","version":"1.0.1-dev","latestSnapshot":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"2\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2024-12-05T21:38:38.298Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:102","msg":"current validation snapshot","version":"1.0.1-dev","currentSnapshot":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"4\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2024-12-05T21:38:38.298Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:104","msg":"validation hash changed: false","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.298Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:119","msg":"getting proxies from gateway translation","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:38.300Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:94","msg":"begin sync 13414981805887133583 (0 virtual services, 0 gateways, 0 route tables)","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.302Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:101","msg":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"4\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:38.302Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:106","msg":"end sync 13414981805887133583","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:38.304Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:106","msg":"begin sync 13414981805887133583 (0 edge proxies, 13 upstreams, 12 endpoints, 3 secrets, 17 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.305Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:113","msg":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"4\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.306Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:215","msg":"gloo reports to be written: map[]","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:38.306Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:216","msg":"end sync 13414981805887133583","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.898Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:229","msg":"received validation request on webhook","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.899Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:232","msg":"validation request dump:\n POST /validation?timeout=10s HTTP/1.1\r\nHost: gloo.gloo-system.svc:443\r\nAccept: application/json, */*\r\nAccept-Encoding: gzip\r\nContent-Length: 2545\r\nContent-Type: application/json\r\nUser-Agent: kube-apiserver-admission\r\n\r\n{\"kind\":\"AdmissionReview\",\"apiVersion\":\"admission.k8s.io/v1beta1\",\"request\":{\"uid\":\"0787e479-f02b-42dc-979a-ff9ad3fbf243\",\"kind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"resource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"requestKind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"requestResource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"name\":\"gateway-proxy\",\"namespace\":\"gloo-system\",\"operation\":\"CREATE\",\"userInfo\":{\"username\":\"system:serviceaccount:gloo-system:gloo-resource-rollout\",\"uid\":\"a09adda8-5e24-45de-b729-65f26eec4777\",\"groups\":[\"system:serviceaccounts\",\"system:serviceaccounts:gloo-system\",\"system:authenticated\"],\"extra\":{\"authentication.kubernetes.io/credential-id\":[\"JTI=3542ab9f-9c05-44ac-8af5-132cd0006671\"],\"authentication.kubernetes.io/node-name\":[\"kind-control-plane\"],\"authentication.kubernetes.io/node-uid\":[\"421f3938-8479-407e-827a-ec16b136dab9\"],\"authentication.kubernetes.io/pod-name\":[\"gloo-resource-rollout-vrzfz\"],\"authentication.kubernetes.io/pod-uid\":[\"6d93263a-2d5d-46e2-9476-4555db68de61\"]}},\"object\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":1,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"}],\"name\":\"gateway-proxy\",\"namespace\":\"gloo-system\",\"uid\":\"08becf69-21ca-423a-87d0-8f3d0db1b344\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8080,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":false,\"useProxyProto\":false},\"status\":{\"statuses\":{}}},\"oldObject\":null,\"dryRun\":false,\"options\":{\"kind\":\"CreateOptions\",\"apiVersion\":\"meta.k8s.io/v1\",\"fieldManager\":\"kubectl-client-side-apply\",\"fieldValidation\":\"Strict\"}}}\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.904Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:318","msg":"Start AdmissionReview","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"0787e479-f02b-42dc-979a-ff9ad3fbf243","PatchOperation":"CREATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:38.917Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"translator/aggregate_translator.go:39","msg":"9538501074744257036 had no virtual services","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"0787e479-f02b-42dc-979a-ff9ad3fbf243","PatchOperation":"CREATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:38.919Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"validation/validator.go:535","msg":"Accepted *v1.Gateway name:\"gateway-proxy\" namespace:\"gloo-system\"","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"0787e479-f02b-42dc-979a-ff9ad3fbf243","PatchOperation":"CREATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:38.919Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:388","msg":"Succeeded, alwaysAccept: false validationErrs: <nil>","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"0787e479-f02b-42dc-979a-ff9ad3fbf243","PatchOperation":"CREATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:38.923Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:297","msg":"ready to write response ...","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.923Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:302","msg":"responded with review: {\"response\":{\"uid\":\"0787e479-f02b-42dc-979a-ff9ad3fbf243\",\"allowed\":true}}","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.933Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:229","msg":"received validation request on webhook","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.933Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:232","msg":"validation request dump:\n POST /validation?timeout=10s HTTP/1.1\r\nHost: gloo.gloo-system.svc:443\r\nAccept: application/json, */*\r\nAccept-Encoding: gzip\r\nContent-Length: 2555\r\nContent-Type: application/json\r\nUser-Agent: kube-apiserver-admission\r\n\r\n{\"kind\":\"AdmissionReview\",\"apiVersion\":\"admission.k8s.io/v1beta1\",\"request\":{\"uid\":\"0fd55a34-066d-44e5-bfe3-c82969013c5f\",\"kind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"resource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"requestKind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"requestResource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"name\":\"gateway-proxy-ssl\",\"namespace\":\"gloo-system\",\"operation\":\"CREATE\",\"userInfo\":{\"username\":\"system:serviceaccount:gloo-system:gloo-resource-rollout\",\"uid\":\"a09adda8-5e24-45de-b729-65f26eec4777\",\"groups\":[\"system:serviceaccounts\",\"system:serviceaccounts:gloo-system\",\"system:authenticated\"],\"extra\":{\"authentication.kubernetes.io/credential-id\":[\"JTI=3542ab9f-9c05-44ac-8af5-132cd0006671\"],\"authentication.kubernetes.io/node-name\":[\"kind-control-plane\"],\"authentication.kubernetes.io/node-uid\":[\"421f3938-8479-407e-827a-ec16b136dab9\"],\"authentication.kubernetes.io/pod-name\":[\"gloo-resource-rollout-vrzfz\"],\"authentication.kubernetes.io/pod-uid\":[\"6d93263a-2d5d-46e2-9476-4555db68de61\"]}},\"object\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":1,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"}],\"name\":\"gateway-proxy-ssl\",\"namespace\":\"gloo-system\",\"uid\":\"9cbaaa2e-63b7-4eb2-948a-2280f15c8de0\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8443,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":true,\"useProxyProto\":false},\"status\":{\"statuses\":{}}},\"oldObject\":null,\"dryRun\":false,\"options\":{\"kind\":\"CreateOptions\",\"apiVersion\":\"meta.k8s.io/v1\",\"fieldManager\":\"kubectl-client-side-apply\",\"fieldValidation\":\"Strict\"}}}\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.934Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:318","msg":"Start AdmissionReview","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"0fd55a34-066d-44e5-bfe3-c82969013c5f","PatchOperation":"CREATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:38.937Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"translator/aggregate_translator.go:39","msg":"1273323289577840275 had no virtual services","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"0fd55a34-066d-44e5-bfe3-c82969013c5f","PatchOperation":"CREATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:38.938Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"translator/aggregate_translator.go:39","msg":"1273323289577840275 had no virtual services","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"0fd55a34-066d-44e5-bfe3-c82969013c5f","PatchOperation":"CREATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:38.938Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"validation/validator.go:535","msg":"Accepted *v1.Gateway name:\"gateway-proxy-ssl\" namespace:\"gloo-system\"","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"0fd55a34-066d-44e5-bfe3-c82969013c5f","PatchOperation":"CREATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:38.939Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:388","msg":"Succeeded, alwaysAccept: false validationErrs: <nil>","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"0fd55a34-066d-44e5-bfe3-c82969013c5f","PatchOperation":"CREATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:38.939Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:297","msg":"ready to write response ...","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:38.939Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:302","msg":"responded with review: {\"response\":{\"uid\":\"0fd55a34-066d-44e5-bfe3-c82969013c5f\",\"allowed\":true}}","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.197Z","caller":"setup/setup_syncer.go:135","msg":"gRPC call: /envoy.service.discovery.v3.AggregatedDiscoveryService/StreamAggregatedResources"}
{"level":"info","ts":"2024-12-05T21:38:39.203Z","caller":"cache/simple.go:276","msg":"open watch Priority Index 0 and Element Index 0 for type.googleapis.com/envoy.config.cluster.v3.Cluster[] from nodeID \"gloo-system~gateway-proxy\", version \"\""}
{"level":"debug","ts":"2024-12-05T21:38:39.287Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:101","msg":"last validation snapshot","version":"1.0.1-dev","latestSnapshot":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"4\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2024-12-05T21:38:39.290Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:102","msg":"current validation snapshot","version":"1.0.1-dev","currentSnapshot":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"4\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2612\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:1} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2613\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:1} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2024-12-05T21:38:39.290Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:104","msg":"validation hash changed: false","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.290Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:119","msg":"getting proxies from gateway translation","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:39.291Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:94","msg":"begin sync 13253007119001937356 (0 virtual services, 2 gateways, 0 route tables)","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.293Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:101","msg":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"4\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2612\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:1} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2613\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:1} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.295Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"translator/aggregate_translator.go:39","msg":"13253007119001937356 had no virtual services","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.296Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"translator/aggregate_translator.go:39","msg":"13253007119001937356 had no virtual services","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:39.296Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:106","msg":"end sync 13253007119001937356","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:39.298Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:106","msg":"begin sync 13253007119001937356 (0 edge proxies, 13 upstreams, 12 endpoints, 3 secrets, 17 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.300Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:113","msg":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"4\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2612\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:1} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2613\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:1} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:39.300Z","caller":"cache/simple.go:162","msg":"respond open watch priority 0 and index 0 :[] with new version \"empty\""}
{"level":"debug","ts":"2024-12-05T21:38:39.300Z","caller":"cache/simple.go:321","msg":"respond type.googleapis.com/envoy.config.cluster.v3.Cluster; resources: []. version \"\" with version \"empty\""}
{"level":"debug","ts":"2024-12-05T21:38:39.301Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:215","msg":"gloo reports to be written: map[]","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:39.301Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:216","msg":"end sync 13253007119001937356","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.307Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:229","msg":"received validation request on webhook","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.307Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:232","msg":"validation request dump:\n POST /validation?timeout=10s HTTP/1.1\r\nHost: gloo.gloo-system.svc:443\r\nAccept: application/json, */*\r\nAccept-Encoding: gzip\r\nContent-Length: 4047\r\nContent-Type: application/json\r\nUser-Agent: kube-apiserver-admission\r\n\r\n{\"kind\":\"AdmissionReview\",\"apiVersion\":\"admission.k8s.io/v1beta1\",\"request\":{\"uid\":\"eff96f74-02ec-4cf1-b25a-a06fd14591c9\",\"kind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"resource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"requestKind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"requestResource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"name\":\"gateway-proxy-ssl\",\"namespace\":\"gloo-system\",\"operation\":\"UPDATE\",\"userInfo\":{\"username\":\"system:serviceaccount:gloo-system:gloo\",\"uid\":\"aee4205e-6d31-4d33-a40d-6474e3c95d28\",\"groups\":[\"system:serviceaccounts\",\"system:serviceaccounts:gloo-system\",\"system:authenticated\"],\"extra\":{\"authentication.kubernetes.io/credential-id\":[\"JTI=f93b8de1-3d45-4a44-b4dc-00b5071b0ba0\"],\"authentication.kubernetes.io/node-name\":[\"kind-control-plane\"],\"authentication.kubernetes.io/node-uid\":[\"421f3938-8479-407e-827a-ec16b136dab9\"],\"authentication.kubernetes.io/pod-name\":[\"gloo-587694c798-92qlk\"],\"authentication.kubernetes.io/pod-uid\":[\"075be737-d18f-486d-8592-0bb0b0f429c5\"]}},\"object\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":2,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"},{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:status\":{\"f:statuses\":{\"f:gloo-system\":{\".\":{},\"f:reportedBy\":{},\"f:state\":{}}}}},\"manager\":\"gloo\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:39Z\"}],\"name\":\"gateway-proxy-ssl\",\"namespace\":\"gloo-system\",\"resourceVersion\":\"2613\",\"uid\":\"9cbaaa2e-63b7-4eb2-948a-2280f15c8de0\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8443,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":true,\"useProxyProto\":false},\"status\":{\"statuses\":{\"gloo-system\":{\"reportedBy\":\"gloo\",\"state\":\"Accepted\"}}}},\"oldObject\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":1,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"}],\"name\":\"gateway-proxy-ssl\",\"namespace\":\"gloo-system\",\"resourceVersion\":\"2613\",\"uid\":\"9cbaaa2e-63b7-4eb2-948a-2280f15c8de0\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8443,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":true,\"useProxyProto\":false},\"status\":{\"statuses\":{}}},\"dryRun\":false,\"options\":{\"kind\":\"UpdateOptions\",\"apiVersion\":\"meta.k8s.io/v1\"}}}\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.308Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:318","msg":"Start AdmissionReview","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"eff96f74-02ec-4cf1-b25a-a06fd14591c9","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo","uid":"aee4205e-6d31-4d33-a40d-6474e3c95d28","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=f93b8de1-3d45-4a44-b4dc-00b5071b0ba0"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-587694c798-92qlk"],"authentication.kubernetes.io/pod-uid":["075be737-d18f-486d-8592-0bb0b0f429c5"]}}}
{"level":"debug","ts":"2024-12-05T21:38:39.310Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:598","msg":"Skipping validation. Reason: status only update","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"eff96f74-02ec-4cf1-b25a-a06fd14591c9","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo","uid":"aee4205e-6d31-4d33-a40d-6474e3c95d28","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=f93b8de1-3d45-4a44-b4dc-00b5071b0ba0"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-587694c798-92qlk"],"authentication.kubernetes.io/pod-uid":["075be737-d18f-486d-8592-0bb0b0f429c5"]}}}
{"level":"debug","ts":"2024-12-05T21:38:39.310Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:388","msg":"Succeeded, alwaysAccept: false validationErrs: <nil>","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"eff96f74-02ec-4cf1-b25a-a06fd14591c9","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo","uid":"aee4205e-6d31-4d33-a40d-6474e3c95d28","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=f93b8de1-3d45-4a44-b4dc-00b5071b0ba0"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-587694c798-92qlk"],"authentication.kubernetes.io/pod-uid":["075be737-d18f-486d-8592-0bb0b0f429c5"]}}}
{"level":"debug","ts":"2024-12-05T21:38:39.310Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:297","msg":"ready to write response ...","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.310Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:302","msg":"responded with review: {\"response\":{\"uid\":\"eff96f74-02ec-4cf1-b25a-a06fd14591c9\",\"allowed\":true}}","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.315Z","logger":"gloo.v1.event_loop.setup.reporter","caller":"reporter/reporter.go:398","msg":"wrote report for name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.317Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:229","msg":"received validation request on webhook","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.318Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:232","msg":"validation request dump:\n POST /validation?timeout=10s HTTP/1.1\r\nHost: gloo.gloo-system.svc:443\r\nAccept: application/json, */*\r\nAccept-Encoding: gzip\r\nContent-Length: 4031\r\nContent-Type: application/json\r\nUser-Agent: kube-apiserver-admission\r\n\r\n{\"kind\":\"AdmissionReview\",\"apiVersion\":\"admission.k8s.io/v1beta1\",\"request\":{\"uid\":\"28bded70-4684-408b-b801-c5c986c1357c\",\"kind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"resource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"requestKind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"requestResource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"name\":\"gateway-proxy\",\"namespace\":\"gloo-system\",\"operation\":\"UPDATE\",\"userInfo\":{\"username\":\"system:serviceaccount:gloo-system:gloo\",\"uid\":\"aee4205e-6d31-4d33-a40d-6474e3c95d28\",\"groups\":[\"system:serviceaccounts\",\"system:serviceaccounts:gloo-system\",\"system:authenticated\"],\"extra\":{\"authentication.kubernetes.io/credential-id\":[\"JTI=f93b8de1-3d45-4a44-b4dc-00b5071b0ba0\"],\"authentication.kubernetes.io/node-name\":[\"kind-control-plane\"],\"authentication.kubernetes.io/node-uid\":[\"421f3938-8479-407e-827a-ec16b136dab9\"],\"authentication.kubernetes.io/pod-name\":[\"gloo-587694c798-92qlk\"],\"authentication.kubernetes.io/pod-uid\":[\"075be737-d18f-486d-8592-0bb0b0f429c5\"]}},\"object\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":2,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"},{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:status\":{\"f:statuses\":{\"f:gloo-system\":{\".\":{},\"f:reportedBy\":{},\"f:state\":{}}}}},\"manager\":\"gloo\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:39Z\"}],\"name\":\"gateway-proxy\",\"namespace\":\"gloo-system\",\"resourceVersion\":\"2612\",\"uid\":\"08becf69-21ca-423a-87d0-8f3d0db1b344\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8080,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":false,\"useProxyProto\":false},\"status\":{\"statuses\":{\"gloo-system\":{\"reportedBy\":\"gloo\",\"state\":\"Accepted\"}}}},\"oldObject\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":1,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"}],\"name\":\"gateway-proxy\",\"namespace\":\"gloo-system\",\"resourceVersion\":\"2612\",\"uid\":\"08becf69-21ca-423a-87d0-8f3d0db1b344\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8080,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":false,\"useProxyProto\":false},\"status\":{\"statuses\":{}}},\"dryRun\":false,\"options\":{\"kind\":\"UpdateOptions\",\"apiVersion\":\"meta.k8s.io/v1\"}}}\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.319Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:318","msg":"Start AdmissionReview","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"28bded70-4684-408b-b801-c5c986c1357c","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo","uid":"aee4205e-6d31-4d33-a40d-6474e3c95d28","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=f93b8de1-3d45-4a44-b4dc-00b5071b0ba0"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-587694c798-92qlk"],"authentication.kubernetes.io/pod-uid":["075be737-d18f-486d-8592-0bb0b0f429c5"]}}}
{"level":"debug","ts":"2024-12-05T21:38:39.320Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:598","msg":"Skipping validation. Reason: status only update","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"28bded70-4684-408b-b801-c5c986c1357c","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo","uid":"aee4205e-6d31-4d33-a40d-6474e3c95d28","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=f93b8de1-3d45-4a44-b4dc-00b5071b0ba0"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-587694c798-92qlk"],"authentication.kubernetes.io/pod-uid":["075be737-d18f-486d-8592-0bb0b0f429c5"]}}}
{"level":"debug","ts":"2024-12-05T21:38:39.320Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:388","msg":"Succeeded, alwaysAccept: false validationErrs: <nil>","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"28bded70-4684-408b-b801-c5c986c1357c","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo","uid":"aee4205e-6d31-4d33-a40d-6474e3c95d28","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=f93b8de1-3d45-4a44-b4dc-00b5071b0ba0"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-587694c798-92qlk"],"authentication.kubernetes.io/pod-uid":["075be737-d18f-486d-8592-0bb0b0f429c5"]}}}
{"level":"debug","ts":"2024-12-05T21:38:39.320Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:297","msg":"ready to write response ...","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.320Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:302","msg":"responded with review: {\"response\":{\"uid\":\"28bded70-4684-408b-b801-c5c986c1357c\",\"allowed\":true}}","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:39.322Z","caller":"cache/simple.go:321","msg":"respond type.googleapis.com/envoy.config.listener.v3.Listener; resources: []. version \"\" with version \"empty\""}
{"level":"debug","ts":"2024-12-05T21:38:39.325Z","logger":"gloo.v1.event_loop.setup.reporter","caller":"reporter/reporter.go:398","msg":"wrote report for name:\"gateway-proxy\" namespace:\"gloo-system\" : state:Accepted reported_by:\"gloo\"","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:39.336Z","caller":"cache/simple.go:276","msg":"open watch Priority Index 0 and Element Index 1 for type.googleapis.com/envoy.config.cluster.v3.Cluster[] from nodeID \"gloo-system~gateway-proxy\", version \"empty\""}
{"level":"info","ts":"2024-12-05T21:38:39.337Z","caller":"cache/simple.go:276","msg":"open watch Priority Index 0 and Element Index 2 for type.googleapis.com/envoy.config.listener.v3.Listener[] from nodeID \"gloo-system~gateway-proxy\", version \"empty\""}
{"level":"debug","ts":"2024-12-05T21:38:40.104Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:229","msg":"received validation request on webhook","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:40.104Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:232","msg":"validation request dump:\n POST /validation?timeout=10s HTTP/1.1\r\nHost: gloo.gloo-system.svc:443\r\nAccept: application/json, */*\r\nAccept-Encoding: gzip\r\nContent-Length: 4367\r\nContent-Type: application/json\r\nUser-Agent: kube-apiserver-admission\r\n\r\n{\"kind\":\"AdmissionReview\",\"apiVersion\":\"admission.k8s.io/v1beta1\",\"request\":{\"uid\":\"84640734-31c4-4537-be1b-f072298f49b8\",\"kind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"resource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"requestKind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"requestResource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"name\":\"gateway-proxy\",\"namespace\":\"gloo-system\",\"operation\":\"UPDATE\",\"userInfo\":{\"username\":\"system:serviceaccount:gloo-system:gloo-resource-rollout\",\"uid\":\"a09adda8-5e24-45de-b729-65f26eec4777\",\"groups\":[\"system:serviceaccounts\",\"system:serviceaccounts:gloo-system\",\"system:authenticated\"],\"extra\":{\"authentication.kubernetes.io/credential-id\":[\"JTI=3542ab9f-9c05-44ac-8af5-132cd0006671\"],\"authentication.kubernetes.io/node-name\":[\"kind-control-plane\"],\"authentication.kubernetes.io/node-uid\":[\"421f3938-8479-407e-827a-ec16b136dab9\"],\"authentication.kubernetes.io/pod-name\":[\"gloo-resource-rollout-vrzfz\"],\"authentication.kubernetes.io/pod-uid\":[\"6d93263a-2d5d-46e2-9476-4555db68de61\"]}},\"object\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":2,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"},{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:status\":{\"f:statuses\":{\"f:gloo-system\":{\".\":{},\"f:reportedBy\":{},\"f:state\":{}}}}},\"manager\":\"gloo\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:39Z\"}],\"name\":\"gateway-proxy\",\"namespace\":\"gloo-system\",\"resourceVersion\":\"2615\",\"uid\":\"08becf69-21ca-423a-87d0-8f3d0db1b344\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8080,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":false,\"useProxyProto\":false},\"status\":{\"statuses\":{\"gloo-system\":{\"reportedBy\":\"gloo\",\"state\":\"Accepted\"}}}},\"oldObject\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":2,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"},{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:status\":{\"f:statuses\":{\"f:gloo-system\":{\".\":{},\"f:reportedBy\":{},\"f:state\":{}}}}},\"manager\":\"gloo\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:39Z\"}],\"name\":\"gateway-proxy\",\"namespace\":\"gloo-system\",\"resourceVersion\":\"2615\",\"uid\":\"08becf69-21ca-423a-87d0-8f3d0db1b344\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8080,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":false,\"useProxyProto\":false},\"status\":{\"statuses\":{\"gloo-system\":{\"reportedBy\":\"gloo\",\"state\":\"Accepted\"}}}},\"dryRun\":false,\"options\":{\"kind\":\"UpdateOptions\",\"apiVersion\":\"meta.k8s.io/v1\",\"fieldManager\":\"kubectl-annotate\"}}}\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:40.105Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:318","msg":"Start AdmissionReview","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"84640734-31c4-4537-be1b-f072298f49b8","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:40.106Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:598","msg":"Skipping validation. Reason: status only update","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"84640734-31c4-4537-be1b-f072298f49b8","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:40.107Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:388","msg":"Succeeded, alwaysAccept: false validationErrs: <nil>","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy","UID":"84640734-31c4-4537-be1b-f072298f49b8","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:40.107Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:297","msg":"ready to write response ...","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:40.107Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:302","msg":"responded with review: {\"response\":{\"uid\":\"84640734-31c4-4537-be1b-f072298f49b8\",\"allowed\":true}}","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:40.116Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:229","msg":"received validation request on webhook","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:40.116Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:232","msg":"validation request dump:\n POST /validation?timeout=10s HTTP/1.1\r\nHost: gloo.gloo-system.svc:443\r\nAccept: application/json, */*\r\nAccept-Encoding: gzip\r\nContent-Length: 4383\r\nContent-Type: application/json\r\nUser-Agent: kube-apiserver-admission\r\n\r\n{\"kind\":\"AdmissionReview\",\"apiVersion\":\"admission.k8s.io/v1beta1\",\"request\":{\"uid\":\"3c61f19e-1bf8-48b9-9a80-e1470606fd81\",\"kind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"resource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"requestKind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"Gateway\"},\"requestResource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"gateways\"},\"name\":\"gateway-proxy-ssl\",\"namespace\":\"gloo-system\",\"operation\":\"UPDATE\",\"userInfo\":{\"username\":\"system:serviceaccount:gloo-system:gloo-resource-rollout\",\"uid\":\"a09adda8-5e24-45de-b729-65f26eec4777\",\"groups\":[\"system:serviceaccounts\",\"system:serviceaccounts:gloo-system\",\"system:authenticated\"],\"extra\":{\"authentication.kubernetes.io/credential-id\":[\"JTI=3542ab9f-9c05-44ac-8af5-132cd0006671\"],\"authentication.kubernetes.io/node-name\":[\"kind-control-plane\"],\"authentication.kubernetes.io/node-uid\":[\"421f3938-8479-407e-827a-ec16b136dab9\"],\"authentication.kubernetes.io/pod-name\":[\"gloo-resource-rollout-vrzfz\"],\"authentication.kubernetes.io/pod-uid\":[\"6d93263a-2d5d-46e2-9476-4555db68de61\"]}},\"object\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":2,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"},{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:status\":{\"f:statuses\":{\"f:gloo-system\":{\".\":{},\"f:reportedBy\":{},\"f:state\":{}}}}},\"manager\":\"gloo\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:39Z\"}],\"name\":\"gateway-proxy-ssl\",\"namespace\":\"gloo-system\",\"resourceVersion\":\"2614\",\"uid\":\"9cbaaa2e-63b7-4eb2-948a-2280f15c8de0\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8443,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":true,\"useProxyProto\":false},\"status\":{\"statuses\":{\"gloo-system\":{\"reportedBy\":\"gloo\",\"state\":\"Accepted\"}}}},\"oldObject\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"Gateway\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"},\"creationTimestamp\":\"2024-12-05T21:38:38Z\",\"generation\":2,\"labels\":{\"app\":\"gloo\"},\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}},\"f:labels\":{\".\":{},\"f:app\":{}}},\"f:spec\":{\".\":{},\"f:bindAddress\":{},\"f:bindPort\":{},\"f:httpGateway\":{},\"f:proxyNames\":{},\"f:ssl\":{},\"f:useProxyProto\":{}},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:38Z\"},{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:status\":{\"f:statuses\":{\"f:gloo-system\":{\".\":{},\"f:reportedBy\":{},\"f:state\":{}}}}},\"manager\":\"gloo\",\"operation\":\"Update\",\"time\":\"2024-12-05T21:38:39Z\"}],\"name\":\"gateway-proxy-ssl\",\"namespace\":\"gloo-system\",\"resourceVersion\":\"2614\",\"uid\":\"9cbaaa2e-63b7-4eb2-948a-2280f15c8de0\"},\"spec\":{\"bindAddress\":\"::\",\"bindPort\":8443,\"httpGateway\":{},\"proxyNames\":[\"gateway-proxy\"],\"ssl\":true,\"useProxyProto\":false},\"status\":{\"statuses\":{\"gloo-system\":{\"reportedBy\":\"gloo\",\"state\":\"Accepted\"}}}},\"dryRun\":false,\"options\":{\"kind\":\"UpdateOptions\",\"apiVersion\":\"meta.k8s.io/v1\",\"fieldManager\":\"kubectl-annotate\"}}}\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:40.118Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:318","msg":"Start AdmissionReview","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"3c61f19e-1bf8-48b9-9a80-e1470606fd81","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:40.119Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:598","msg":"Skipping validation. Reason: status only update","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"3c61f19e-1bf8-48b9-9a80-e1470606fd81","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:40.120Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:388","msg":"Succeeded, alwaysAccept: false validationErrs: <nil>","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=Gateway","Namespace":"gloo-system","Name":"gateway-proxy-ssl","UID":"3c61f19e-1bf8-48b9-9a80-e1470606fd81","PatchOperation":"UPDATE","UserInfo":{"username":"system:serviceaccount:gloo-system:gloo-resource-rollout","uid":"a09adda8-5e24-45de-b729-65f26eec4777","groups":["system:serviceaccounts","system:serviceaccounts:gloo-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=3542ab9f-9c05-44ac-8af5-132cd0006671"],"authentication.kubernetes.io/node-name":["kind-control-plane"],"authentication.kubernetes.io/node-uid":["421f3938-8479-407e-827a-ec16b136dab9"],"authentication.kubernetes.io/pod-name":["gloo-resource-rollout-vrzfz"],"authentication.kubernetes.io/pod-uid":["6d93263a-2d5d-46e2-9476-4555db68de61"]}}}
{"level":"debug","ts":"2024-12-05T21:38:40.120Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:297","msg":"ready to write response ...","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:40.120Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:302","msg":"responded with review: {\"response\":{\"uid\":\"3c61f19e-1bf8-48b9-9a80-e1470606fd81\",\"allowed\":true}}","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:48.308Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:101","msg":"last validation snapshot","version":"1.0.1-dev","latestSnapshot":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"7\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"4\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"4\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2612\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:1} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2613\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:1} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2024-12-05T21:38:48.311Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:102","msg":"current validation snapshot","version":"1.0.1-dev","currentSnapshot":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8080 metadata:{name:\"ep-10-244-0-179-8080-8d1bec8f820842d5\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8443 metadata:{name:\"ep-10-244-0-179-8443-1b483d613ae3c36b\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"9\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"9\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"5\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2615\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2614\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2024-12-05T21:38:48.312Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:104","msg":"validation hash changed: false","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:48.312Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:119","msg":"getting proxies from gateway translation","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:48.313Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:94","msg":"begin sync 6680452009639561495 (0 virtual services, 2 gateways, 0 route tables)","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:48.316Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:101","msg":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8080 metadata:{name:\"ep-10-244-0-179-8080-8d1bec8f820842d5\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8443 metadata:{name:\"ep-10-244-0-179-8443-1b483d613ae3c36b\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"9\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"9\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"5\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2615\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2614\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:48.318Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"translator/aggregate_translator.go:39","msg":"6680452009639561495 had no virtual services","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:48.319Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"translator/aggregate_translator.go:39","msg":"6680452009639561495 had no virtual services","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:48.319Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:106","msg":"end sync 6680452009639561495","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:48.321Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:106","msg":"begin sync 6680452009639561495 (0 edge proxies, 13 upstreams, 14 endpoints, 3 secrets, 17 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:48.323Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:113","msg":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8080 metadata:{name:\"ep-10-244-0-179-8080-8d1bec8f820842d5\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8443 metadata:{name:\"ep-10-244-0-179-8443-1b483d613ae3c36b\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"9\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"9\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"5\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2615\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2614\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:48.323Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:215","msg":"gloo reports to be written: map[]","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-05T21:38:48.324Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:216","msg":"end sync 6680452009639561495","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:48.324Z","logger":"gloo.v1.event_loop.setup.reporter","caller":"reporter/reporter.go:376","msg":"skipping report for name:\"gateway-proxy\" namespace:\"gloo-system\" as it has not changed","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:38:48.324Z","logger":"gloo.v1.event_loop.setup.reporter","caller":"reporter/reporter.go:376","msg":"skipping report for name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" as it has not changed","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:44:19.727Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:44:19.748Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:46:06.817Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:46:06.839Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:46:11.829Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:46:11.850Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:47:36.566Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:47:36.589Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:49:02.040Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-05T21:50:56.312Z","logger":"gloo.v1.event_loop.gloo","caller":"server/gateway.go:58","msg":"no endpoint","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:16.691Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:229","msg":"received validation request on webhook","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:16.692Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:232","msg":"validation request dump:\n POST /validation?timeout=10s HTTP/1.1\r\nHost: gloo.gloo-system.svc:443\r\nAccept: application/json, */*\r\nAccept-Encoding: gzip\r\nContent-Length: 1790\r\nContent-Type: application/json\r\nUser-Agent: kube-apiserver-admission\r\n\r\n{\"kind\":\"AdmissionReview\",\"apiVersion\":\"admission.k8s.io/v1beta1\",\"request\":{\"uid\":\"22b9e5b1-cb7c-4384-a69f-dab85cb08a2a\",\"kind\":{\"group\":\"\",\"version\":\"v1\",\"kind\":\"Secret\"},\"resource\":{\"group\":\"\",\"version\":\"v1\",\"resource\":\"secrets\"},\"requestKind\":{\"group\":\"\",\"version\":\"v1\",\"kind\":\"Secret\"},\"requestResource\":{\"group\":\"\",\"version\":\"v1\",\"resource\":\"secrets\"},\"name\":\"bootstrap-token-abcdef\",\"namespace\":\"kube-system\",\"operation\":\"DELETE\",\"userInfo\":{\"username\":\"system:serviceaccount:kube-system:token-cleaner\",\"uid\":\"644ba409-7c4a-4c73-8a85-c7f69eca2f0d\",\"groups\":[\"system:serviceaccounts\",\"system:serviceaccounts:kube-system\",\"system:authenticated\"],\"extra\":{\"authentication.kubernetes.io/credential-id\":[\"JTI=d38aff18-49ca-4001-a140-8fad710b20ca\"]}},\"object\":null,\"oldObject\":{\"kind\":\"Secret\",\"apiVersion\":\"v1\",\"metadata\":{\"name\":\"bootstrap-token-abcdef\",\"namespace\":\"kube-system\",\"uid\":\"9c8088b5-d7df-46fd-b2f1-5cb60ae1af59\",\"resourceVersion\":\"244\",\"creationTimestamp\":\"2024-12-05T21:21:54Z\",\"managedFields\":[{\"manager\":\"kubeadm\",\"operation\":\"Update\",\"apiVersion\":\"v1\",\"time\":\"2024-12-05T21:21:54Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:data\":{\".\":{},\"f:auth-extra-groups\":{},\"f:expiration\":{},\"f:token-id\":{},\"f:token-secret\":{},\"f:usage-bootstrap-authentication\":{},\"f:usage-bootstrap-signing\":{}},\"f:type\":{}}}]},\"data\":{\"auth-extra-groups\":\"c3lzdGVtOmJvb3RzdHJhcHBlcnM6a3ViZWFkbTpkZWZhdWx0LW5vZGUtdG9rZW4=\",\"expiration\":\"MjAyNC0xMi0wNlQyMToyMTo1NFo=\",\"token-id\":\"YWJjZGVm\",\"token-secret\":\"MDEyMzQ1Njc4OWFiY2RlZg==\",\"usage-bootstrap-authentication\":\"dHJ1ZQ==\",\"usage-bootstrap-signing\":\"dHJ1ZQ==\"},\"type\":\"bootstrap.kubernetes.io/token\"},\"dryRun\":false,\"options\":{\"kind\":\"DeleteOptions\",\"apiVersion\":\"meta.k8s.io/v1\",\"preconditions\":{\"uid\":\"9c8088b5-d7df-46fd-b2f1-5cb60ae1af59\"}}}}\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:16.693Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:318","msg":"Start AdmissionReview","version":"1.0.1-dev","Kind":"/v1, Kind=Secret","Namespace":"kube-system","Name":"bootstrap-token-abcdef","UID":"22b9e5b1-cb7c-4384-a69f-dab85cb08a2a","PatchOperation":"DELETE","UserInfo":{"username":"system:serviceaccount:kube-system:token-cleaner","uid":"644ba409-7c4a-4c73-8a85-c7f69eca2f0d","groups":["system:serviceaccounts","system:serviceaccounts:kube-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=d38aff18-49ca-4001-a140-8fad710b20ca"]}}}
{"level":"debug","ts":"2024-12-10T17:35:16.695Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"translator/aggregate_translator.go:39","msg":"1273323289577840275 had no virtual services","version":"1.0.1-dev","Kind":"/v1, Kind=Secret","Namespace":"kube-system","Name":"bootstrap-token-abcdef","UID":"22b9e5b1-cb7c-4384-a69f-dab85cb08a2a","PatchOperation":"DELETE","UserInfo":{"username":"system:serviceaccount:kube-system:token-cleaner","uid":"644ba409-7c4a-4c73-8a85-c7f69eca2f0d","groups":["system:serviceaccounts","system:serviceaccounts:kube-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=d38aff18-49ca-4001-a140-8fad710b20ca"]}}}
{"level":"debug","ts":"2024-12-10T17:35:16.696Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"translator/aggregate_translator.go:39","msg":"1273323289577840275 had no virtual services","version":"1.0.1-dev","Kind":"/v1, Kind=Secret","Namespace":"kube-system","Name":"bootstrap-token-abcdef","UID":"22b9e5b1-cb7c-4384-a69f-dab85cb08a2a","PatchOperation":"DELETE","UserInfo":{"username":"system:serviceaccount:kube-system:token-cleaner","uid":"644ba409-7c4a-4c73-8a85-c7f69eca2f0d","groups":["system:serviceaccounts","system:serviceaccounts:kube-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=d38aff18-49ca-4001-a140-8fad710b20ca"]}}}
{"level":"debug","ts":"2024-12-10T17:35:16.697Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"validation/validator.go:535","msg":"Accepted *v1.Secret name:\"bootstrap-token-abcdef\" namespace:\"kube-system\"","version":"1.0.1-dev","Kind":"/v1, Kind=Secret","Namespace":"kube-system","Name":"bootstrap-token-abcdef","UID":"22b9e5b1-cb7c-4384-a69f-dab85cb08a2a","PatchOperation":"DELETE","UserInfo":{"username":"system:serviceaccount:kube-system:token-cleaner","uid":"644ba409-7c4a-4c73-8a85-c7f69eca2f0d","groups":["system:serviceaccounts","system:serviceaccounts:kube-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=d38aff18-49ca-4001-a140-8fad710b20ca"]}}}
{"level":"debug","ts":"2024-12-10T17:35:16.697Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:388","msg":"Succeeded, alwaysAccept: false validationErrs: <nil>","version":"1.0.1-dev","Kind":"/v1, Kind=Secret","Namespace":"kube-system","Name":"bootstrap-token-abcdef","UID":"22b9e5b1-cb7c-4384-a69f-dab85cb08a2a","PatchOperation":"DELETE","UserInfo":{"username":"system:serviceaccount:kube-system:token-cleaner","uid":"644ba409-7c4a-4c73-8a85-c7f69eca2f0d","groups":["system:serviceaccounts","system:serviceaccounts:kube-system","system:authenticated"],"extra":{"authentication.kubernetes.io/credential-id":["JTI=d38aff18-49ca-4001-a140-8fad710b20ca"]}}}
{"level":"debug","ts":"2024-12-10T17:35:16.697Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:297","msg":"ready to write response ...","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:16.697Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:302","msg":"responded with review: {\"response\":{\"uid\":\"22b9e5b1-cb7c-4384-a69f-dab85cb08a2a\",\"allowed\":true}}","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:16.981Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:101","msg":"last validation snapshot","version":"1.0.1-dev","latestSnapshot":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"3\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8080 metadata:{name:\"ep-10-244-0-179-8080-8d1bec8f820842d5\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8443 metadata:{name:\"ep-10-244-0-179-8443-1b483d613ae3c36b\" namespace:\"gloo-system\" resource_version:\"2\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"9\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"9\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"5\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"5\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2615\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2614\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2024-12-10T17:35:16.985Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:102","msg":"current validation snapshot","version":"1.0.1-dev","currentSnapshot":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8080 metadata:{name:\"ep-10-244-0-179-8080-8d1bec8f820842d5\" namespace:\"gloo-system\" resource_version:\"1428\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8443 metadata:{name:\"ep-10-244-0-179-8443-1b483d613ae3c36b\" namespace:\"gloo-system\" resource_version:\"1428\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"2861\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"1431\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"2861\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"1431\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"1431\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"1431\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2615\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2614\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n"}
{"level":"debug","ts":"2024-12-10T17:35:16.986Z","logger":"gloo.v1.event_loop.setup","caller":"validation/server.go:104","msg":"validation hash changed: false","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:16.986Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop","caller":"syncer/translator_syncer.go:119","msg":"getting proxies from gateway translation","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-10T17:35:16.988Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:94","msg":"begin sync 286941133804831862 (0 virtual services, 2 gateways, 0 route tables)","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:16.992Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:101","msg":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8080 metadata:{name:\"ep-10-244-0-179-8080-8d1bec8f820842d5\" namespace:\"gloo-system\" resource_version:\"1428\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8443 metadata:{name:\"ep-10-244-0-179-8443-1b483d613ae3c36b\" namespace:\"gloo-system\" resource_version:\"1428\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"2861\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"1431\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"2861\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"1431\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"1431\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"1431\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2615\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2614\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:16.995Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"translator/aggregate_translator.go:39","msg":"286941133804831862 had no virtual services","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:16.996Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"translator/aggregate_translator.go:39","msg":"286941133804831862 had no virtual services","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-10T17:35:16.997Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.GatewayTranslatorSyncer","caller":"syncer/translator_syncer.go:106","msg":"end sync 286941133804831862","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-10T17:35:16.999Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:106","msg":"begin sync 286941133804831862 (0 edge proxies, 13 upstreams, 14 endpoints, 3 secrets, 17 artifacts, 0 auth configs, 0 rate limit configs, 0 graphql apis)","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:17.002Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:113","msg":"Artifacts:[*v1.Artifact{name: kube-root-ca.crt namespace: default data: [REDACTED]} '*v1.Artifact{name: gateway-proxy-envoy-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: gloo-custom-resource-config namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: gloo-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-node-lease data: [REDACTED]} '*v1.Artifact{name: cluster-info namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-public data: [REDACTED]} '*v1.Artifact{name: cilium-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: coredns namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: extension-apiserver-authentication namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-apiserver-legacy-service-account-token-tracking namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-proxy namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubeadm-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kubelet-config namespace: kube-system data: [REDACTED]} '*v1.Artifact{name: kube-root-ca.crt namespace: local-path-storage data: [REDACTED]} '*v1.Artifact{name: local-path-config namespace: local-path-storage data: [REDACTED]}]\nEndpoints:[upstreams:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:8443 metadata:{name:\"ep-10-244-0-113-8443-a19961e256da32ac\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9966 metadata:{name:\"ep-10-244-0-113-9966-b5e2fe23cd27db68\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9976 metadata:{name:\"ep-10-244-0-113-9976-7faa2caf9cbcb16c\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9977 metadata:{name:\"ep-10-244-0-113-9977-a71194a8c2ad038c\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9979 metadata:{name:\"ep-10-244-0-113-9979-577973b95091bacc\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\"} address:\"10.244.0.113\" port:9988 metadata:{name:\"ep-10-244-0-113-9988-7b3a1c6bb9bf3d08\" namespace:\"gloo-system\" resource_version:\"1429\" labels:{key:\"gloo\" value:\"gloo\"} labels:{key:\"pod-template-hash\" value:\"587694c798\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8080 metadata:{name:\"ep-10-244-0-179-8080-8d1bec8f820842d5\" namespace:\"gloo-system\" resource_version:\"1428\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\"} address:\"10.244.0.179\" port:8443 metadata:{name:\"ep-10-244-0-179-8443-1b483d613ae3c36b\" namespace:\"gloo-system\" resource_version:\"1428\" labels:{key:\"gateway-proxy\" value:\"live\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"} labels:{key:\"pod-template-hash\" value:\"67bb564b94\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:53 metadata:{name:\"ep-10-244-0-48-53-3637cbbb84e8114d\" namespace:\"gloo-system\" resource_version:\"2861\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.48\" port:9153 metadata:{name:\"ep-10-244-0-48-9153-94b7703f6e37eea1\" namespace:\"gloo-system\" resource_version:\"1431\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:53 metadata:{name:\"ep-10-244-0-63-53-996bfe8f2e122099\" namespace:\"gloo-system\" resource_version:\"2861\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\"} address:\"10.244.0.63\" port:9153 metadata:{name:\"ep-10-244-0-63-9153-5bc2fb5e80386529\" namespace:\"gloo-system\" resource_version:\"1431\" labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"pod-template-hash\" value:\"6f6b679f8f\"}} upstreams:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\"} address:\"172.21.0.2\" port:4244 metadata:{name:\"ep-172-21-0-2-4244-b86c9cbeac3d1fb8\" namespace:\"gloo-system\" resource_version:\"1431\" labels:{key:\"app.kubernetes.io/name\" value:\"cilium-agent\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"controller-revision-hash\" value:\"5d49574d9f\"} labels:{key:\"k8s-app\" value:\"cilium\"} labels:{key:\"pod-template-generation\" value:\"1\"}} upstreams:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} address:\"172.21.0.2\" port:6443 metadata:{name:\"ep-172-21-0-2-6443-8bb93a4fd673bab3\" namespace:\"gloo-system\" resource_version:\"1431\"}]\nProxies:[]\nUpstreamGroups:[]\nSecrets:[*v1.Secret{name: gateway-validation-certs namespace: gloo-system data: [REDACTED]} '*v1.Secret{name: cilium-ca namespace: kube-system data: [REDACTED]} '*v1.Secret{name: hubble-server-certs namespace: kube-system data: [REDACTED]}]\nUpstreams:[metadata:{name:\"kube-svc:default-kubernetes-443\" namespace:\"default\"} discovery_metadata:{labels:{key:\"component\" value:\"apiserver\"} labels:{key:\"provider\" value:\"kubernetes\"}} kube:{service_name:\"kubernetes\" service_namespace:\"default\" service_port:443} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gateway-proxy-80\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"} labels:{key:\"gloo\" value:\"gateway-proxy\"}} kube:{service_name:\"gateway-proxy\" service_namespace:\"gloo-system\" service_port:80 selector:{key:\"gateway-proxy\" value:\"live\"} selector:{key:\"gateway-proxy-id\" value:\"gateway-proxy\"}} metadata:{name:\"kube-svc:gloo-system-gloo-443\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:443 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9966\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9966 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9976\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9976 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9977\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9977 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:gloo-system-gloo-9979\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9979 selector:{key:\"gloo\" value:\"gloo\"}} metadata:{name:\"kube-svc:gloo-system-gloo-9988\" namespace:\"gloo-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"gloo\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"gloo-system\"}} discovery_metadata:{labels:{key:\"app\" value:\"gloo\"} labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"gloo\" value:\"gloo\"}} kube:{service_name:\"gloo\" service_namespace:\"gloo-system\" service_port:9988 selector:{key:\"gloo\" value:\"gloo\"}} use_http2:{value:true} metadata:{name:\"kube-svc:kube-system-hubble-peer-443\" namespace:\"kube-system\" annotations:{key:\"meta.helm.sh/release-name\" value:\"cilium\"} annotations:{key:\"meta.helm.sh/release-namespace\" value:\"kube-system\"}} discovery_metadata:{labels:{key:\"app.kubernetes.io/managed-by\" value:\"Helm\"} labels:{key:\"app.kubernetes.io/name\" value:\"hubble-peer\"} labels:{key:\"app.kubernetes.io/part-of\" value:\"cilium\"} labels:{key:\"k8s-app\" value:\"cilium\"}} kube:{service_name:\"hubble-peer\" service_namespace:\"kube-system\" service_port:443 selector:{key:\"k8s-app\" value:\"cilium\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-53\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:53 selector:{key:\"k8s-app\" value:\"kube-dns\"}} metadata:{name:\"kube-svc:kube-system-kube-dns-9153\" namespace:\"kube-system\" annotations:{key:\"prometheus.io/port\" value:\"9153\"} annotations:{key:\"prometheus.io/scrape\" value:\"true\"}} discovery_metadata:{labels:{key:\"k8s-app\" value:\"kube-dns\"} labels:{key:\"kubernetes.io/cluster-service\" value:\"true\"} labels:{key:\"kubernetes.io/name\" value:\"CoreDNS\"}} kube:{service_name:\"kube-dns\" service_namespace:\"kube-system\" service_port:9153 selector:{key:\"k8s-app\" value:\"kube-dns\"}}]\nAuthConfigs:[]\nRatelimitconfigs:[]\nVirtualServices:[]\nRouteTables:[]\nGateways:[bind_address:\"::\" bind_port:8080 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy\" namespace:\"gloo-system\" resource_version:\"2615\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8080,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":false,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\" ssl:true bind_address:\"::\" bind_port:8443 namespaced_statuses:{statuses:{key:\"gloo-system\" value:{state:Accepted reported_by:\"gloo\"}}} metadata:{name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" resource_version:\"2614\" labels:{key:\"app\" value:\"gloo\"} annotations:{key:\"kubectl.kubernetes.io/last-applied-configuration\" value:\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"Gateway\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"labels\\\":{\\\"app\\\":\\\"gloo\\\"},\\\"name\\\":\\\"gateway-proxy-ssl\\\",\\\"namespace\\\":\\\"gloo-system\\\"},\\\"spec\\\":{\\\"bindAddress\\\":\\\"::\\\",\\\"bindPort\\\":8443,\\\"httpGateway\\\":{},\\\"proxyNames\\\":[\\\"gateway-proxy\\\"],\\\"ssl\\\":true,\\\"useProxyProto\\\":false}}\\n\"} generation:2} use_proxy_proto:{} http_gateway:{} proxy_names:\"gateway-proxy\"]\nVirtualHostOptions:[]\nRouteOptions:[]\nHttpGateways:[]\nTcpGateways:[]\nGraphqlApis:[]\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:17.002Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:215","msg":"gloo reports to be written: map[]","version":"1.0.1-dev"}
{"level":"info","ts":"2024-12-10T17:35:17.002Z","logger":"gloo.v1.event_loop.setup.gloosnapshot.event_loop.envoyTranslatorSyncer","caller":"syncer/envoy_translator_syncer.go:216","msg":"end sync 286941133804831862","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:17.003Z","logger":"gloo.v1.event_loop.setup.reporter","caller":"reporter/reporter.go:376","msg":"skipping report for name:\"gateway-proxy\" namespace:\"gloo-system\" as it has not changed","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T17:35:17.003Z","logger":"gloo.v1.event_loop.setup.reporter","caller":"reporter/reporter.go:376","msg":"skipping report for name:\"gateway-proxy-ssl\" namespace:\"gloo-system\" as it has not changed","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T22:58:09.054Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:229","msg":"received validation request on webhook","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T22:58:09.054Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:232","msg":"validation request dump:\n POST /validation?timeout=10s HTTP/1.1\r\nHost: gloo.gloo-system.svc:443\r\nAccept: application/json, */*\r\nAccept-Encoding: gzip\r\nContent-Length: 1635\r\nContent-Type: application/json\r\nUser-Agent: kube-apiserver-admission\r\n\r\n{\"kind\":\"AdmissionReview\",\"apiVersion\":\"admission.k8s.io/v1beta1\",\"request\":{\"uid\":\"10e4c17c-e9df-43c5-b3fe-1c88afe8e860\",\"kind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"VirtualService\"},\"resource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"virtualservices\"},\"requestKind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"VirtualService\"},\"requestResource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"virtualservices\"},\"name\":\"empty-virtualservice\",\"namespace\":\"default\",\"operation\":\"CREATE\",\"userInfo\":{\"username\":\"kubernetes-admin\",\"groups\":[\"kubeadm:cluster-admins\",\"system:authenticated\"]},\"object\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"VirtualService\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"VirtualService\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"name\\\":\\\"empty-virtualservice\\\",\\\"namespace\\\":\\\"default\\\"},\\\"spec\\\":{}}\\n\"},\"creationTimestamp\":\"2024-12-10T22:58:09Z\",\"generation\":1,\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}}},\"f:spec\":{},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-10T22:58:09Z\"}],\"name\":\"empty-virtualservice\",\"namespace\":\"default\",\"uid\":\"67e359a3-2a72-40c9-a0a2-841a7305ffd6\"},\"spec\":{},\"status\":{\"statuses\":{}}},\"oldObject\":null,\"dryRun\":false,\"options\":{\"kind\":\"CreateOptions\",\"apiVersion\":\"meta.k8s.io/v1\",\"fieldManager\":\"kubectl-client-side-apply\",\"fieldValidation\":\"Strict\"}}}\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T22:58:09.055Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:318","msg":"Start AdmissionReview","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.063Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator.proxy-validator.translator","caller":"translator/translator.go:177","msg":"verifying upstream groups: gateway-proxy","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.064Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator.proxy-validator.translator","caller":"translator/translator.go:183","msg":"computing envoy clusters for proxy: gateway-proxy","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.068Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator.proxy-validator.translator","caller":"translator/translator.go:185","msg":"computing envoy endpoints for proxy: gateway-proxy","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"info","ts":"2024-12-10T22:58:09.070Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator.proxy-validator.translator","caller":"translator/translator.go:264","msg":"computing envoy resources for listener: listener-::-8080","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.071Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator.proxy-validator.translator.compute_route_config.listener-::-8080-routes","caller":"utils/sanitize.go:19","msg":"illegal character(s) '.' in virtual host name [default.empty-virtualservice] will be replaced by '_'","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"info","ts":"2024-12-10T22:58:09.080Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator.proxy-validator.translator","caller":"translator/translator.go:264","msg":"computing envoy resources for listener: listener-::-8443","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.091Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator.proxy-validator.invalid-route-replacer","caller":"sanitizer/route_replacing_sanitizer.go:184","msg":"replacing routes which point to missing or errored upstreams with a direct response action","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.092Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"validation/validator.go:535","msg":"Accepted *v1.VirtualService name:\"empty-virtualservice\" namespace:\"default\"","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.092Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:388","msg":"Succeeded, alwaysAccept: false validationErrs: <nil>","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"10e4c17c-e9df-43c5-b3fe-1c88afe8e860","PatchOperation":"CREATE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.092Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:297","msg":"ready to write response ...","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T22:58:09.092Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:302","msg":"responded with review: {\"response\":{\"uid\":\"10e4c17c-e9df-43c5-b3fe-1c88afe8e860\",\"allowed\":true}}","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T22:58:09.250Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:229","msg":"received validation request on webhook","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T22:58:09.250Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:232","msg":"validation request dump:\n POST /validation?timeout=10s HTTP/1.1\r\nHost: gloo.gloo-system.svc:443\r\nAccept: application/json, */*\r\nAccept-Encoding: gzip\r\nContent-Length: 1625\r\nContent-Type: application/json\r\nUser-Agent: kube-apiserver-admission\r\n\r\n{\"kind\":\"AdmissionReview\",\"apiVersion\":\"admission.k8s.io/v1beta1\",\"request\":{\"uid\":\"4961ed84-1d37-430c-bb9b-c02c3b6fdc81\",\"kind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"VirtualService\"},\"resource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"virtualservices\"},\"requestKind\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"kind\":\"VirtualService\"},\"requestResource\":{\"group\":\"gateway.solo.io\",\"version\":\"v1\",\"resource\":\"virtualservices\"},\"name\":\"empty-virtualservice\",\"namespace\":\"default\",\"operation\":\"DELETE\",\"userInfo\":{\"username\":\"kubernetes-admin\",\"groups\":[\"kubeadm:cluster-admins\",\"system:authenticated\"]},\"object\":null,\"oldObject\":{\"apiVersion\":\"gateway.solo.io/v1\",\"kind\":\"VirtualService\",\"metadata\":{\"annotations\":{\"kubectl.kubernetes.io/last-applied-configuration\":\"{\\\"apiVersion\\\":\\\"gateway.solo.io/v1\\\",\\\"kind\\\":\\\"VirtualService\\\",\\\"metadata\\\":{\\\"annotations\\\":{},\\\"name\\\":\\\"empty-virtualservice\\\",\\\"namespace\\\":\\\"default\\\"},\\\"spec\\\":{}}\\n\"},\"creationTimestamp\":\"2024-12-10T22:58:09Z\",\"generation\":1,\"managedFields\":[{\"apiVersion\":\"gateway.solo.io/v1\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:kubectl.kubernetes.io/last-applied-configuration\":{}}},\"f:spec\":{},\"f:status\":{\".\":{},\"f:statuses\":{}}},\"manager\":\"kubectl-client-side-apply\",\"operation\":\"Update\",\"time\":\"2024-12-10T22:58:09Z\"}],\"name\":\"empty-virtualservice\",\"namespace\":\"default\",\"resourceVersion\":\"290263\",\"uid\":\"67e359a3-2a72-40c9-a0a2-841a7305ffd6\"},\"spec\":{},\"status\":{\"statuses\":{}}},\"dryRun\":false,\"options\":{\"kind\":\"DeleteOptions\",\"apiVersion\":\"meta.k8s.io/v1\",\"propagationPolicy\":\"Background\"}}}\n","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T22:58:09.251Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:318","msg":"Start AdmissionReview","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"4961ed84-1d37-430c-bb9b-c02c3b6fdc81","PatchOperation":"DELETE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.253Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"translator/aggregate_translator.go:39","msg":"1273323289577840275 had no virtual services","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"4961ed84-1d37-430c-bb9b-c02c3b6fdc81","PatchOperation":"DELETE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.255Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"translator/aggregate_translator.go:39","msg":"1273323289577840275 had no virtual services","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"4961ed84-1d37-430c-bb9b-c02c3b6fdc81","PatchOperation":"DELETE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.255Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook.gateway-validator","caller":"validation/validator.go:535","msg":"Accepted *v1.VirtualService name:\"empty-virtualservice\" namespace:\"default\"","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"4961ed84-1d37-430c-bb9b-c02c3b6fdc81","PatchOperation":"DELETE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.255Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:388","msg":"Succeeded, alwaysAccept: false validationErrs: <nil>","version":"1.0.1-dev","Kind":"gateway.solo.io/v1, Kind=VirtualService","Namespace":"default","Name":"empty-virtualservice","UID":"4961ed84-1d37-430c-bb9b-c02c3b6fdc81","PatchOperation":"DELETE","UserInfo":{"username":"kubernetes-admin","groups":["kubeadm:cluster-admins","system:authenticated"]}}
{"level":"debug","ts":"2024-12-10T22:58:09.255Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:297","msg":"ready to write response ...","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T22:58:09.255Z","logger":"gloo.v1.event_loop.setup.gateway-validation-webhook","caller":"k8sadmission/validating_admission_webhook.go:302","msg":"responded with review: {\"response\":{\"uid\":\"4961ed84-1d37-430c-bb9b-c02c3b6fdc81\",\"allowed\":true}}","version":"1.0.1-dev"}
{"level":"debug","ts":"2024-12-10T23:09:35.901Z","caller":"debug/proxy_endpoint.go:47","msg":"received grpc request to read proxies"}
{"level":"debug","ts":"2024-12-10T23:09:40.860Z","caller":"debug/proxy_endpoint.go:47","msg":"received grpc request to read proxies"}
{"level":"debug","ts":"2024-12-11T00:31:50.731Z","caller":"debug/proxy_endpoint.go:47","msg":"received grpc request to read proxies"}
{"level":"debug","ts":"2024-12-11T00:37:26.578Z","caller":"debug/proxy_endpoint.go:47","msg":"received grpc request to read proxies"}
