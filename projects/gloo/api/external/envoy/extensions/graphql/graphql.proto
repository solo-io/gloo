syntax = "proto3";

package envoy.config.filter.http.graphql.v2;

option go_package = "github.com/solo-io/gloo/projects/gloo/pkg/api/external/envoy/extensions/filters/http/graphql/v2";

option java_package = "io.envoyproxy.envoy.config.filter.http.graphql.v2";
option java_outer_classname = "GraphQLFilterProto";
option java_multiple_files = true;

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message PathSegment {
  reserved 1, 2, 3;
  reserved "key", "index", "all";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message Path {
  reserved 1;
  reserved "segments";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message TemplatedPath {
  reserved 1, 2;
  reserved "path_template", "named_paths";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message ValueProvider {

  // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
  message GraphQLArgExtraction {
    reserved 1, 2;
    reserved "arg_name", "path";
  }

  // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
  message GraphQLParentExtraction {
    reserved 1;
    reserved "path";
  }

  // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
  message TypedValueProvider {

    // DEPRECATED: This enum is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
    enum Type {
      STRING = 0;
      INT = 1;
      FLOAT = 2;
      BOOLEAN = 3;
    }
    
    reserved 1, 2, 3;
    reserved "type", "header", "value";
  }

  // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
  message Provider {
    reserved 1, 2, 3;
    reserved "graphql_arg", "typed_provider", "graphql_parent";
  }

  reserved 3, 4;
  reserved "providers", "provider_template";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message JsonValueList {
  reserved 1;
  reserved "values";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message JsonValue {
  reserved 1, 2, 3;
  reserved "node", "value_provider", "list";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message JsonKeyValue {
  reserved 1, 2;
  reserved "key", "value";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message JsonNode {
  reserved 1;
  reserved "key_values";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message RequestTemplate {
  reserved 1, 2, 3;
  reserved "headers", "query_params", "outgoing_body";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message ResponseTemplate {
  reserved 1, 2;
  reserved "result_root", "setters";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message RESTResolver {
  reserved 1, 2, 3, 4;
  reserved "server_uri", "request_transform", "pre_execution_transform", "span_name";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message GrpcRequestTemplate {
  reserved 1, 2, 3, 4;
  reserved "outgoing_message_json", "service_name", "method_name", "request_metadata";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message GrpcDescriptorRegistry {
  reserved 1;
  reserved "proto_descriptors";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message GrpcResolver {
  reserved 1, 2, 4;
  reserved "server_uri", "request_transform", "span_name";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message StaticResolver {
  // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
  message AsyncResponse {
    reserved 1, 2;
    reserved "response", "delay_ms";
  }
  
  reserved 1, 2, 3;
  reserved "sync_response", "async_response", "error_response";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message AbstractTypeResolver {
  // No fields to reserve as this message was already empty (marked as NOT IMPLEMENTED)
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message QueryMatcher {
  // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
  message FieldMatcher {
    reserved 1, 2;
    reserved "type", "field";
  }

  reserved 1;
  reserved "field_matcher";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message Resolution {
  reserved 1, 2, 3, 4, 5, 6;
  reserved "matcher", "resolver", "stat_prefix", "cache_control";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message CacheControl {
  // DEPRECATED: This enum is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
  enum CacheControlScope {
    UNSET = 0;
    PUBLIC = 1;
    PRIVATE = 2;
  }
  
  reserved 1, 2, 3;
  reserved "max_age", "scope", "inherit_max_age";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message GraphQLConfig {
  // No fields to reserve as this message was already empty
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message GraphQLRouteConfig {
  reserved 4, 5, 6, 7;
  reserved "executable_schema", "stat_prefix", "persisted_query_cache_config", "allowed_query_hashes";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message PersistedQueryCacheConfig {
  reserved 1;
  reserved "cache_size";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message ExecutableSchema {
  reserved 1, 2, 3, 4;
  reserved "schema_definition", "executor", "extensions", "log_request_response_info";
}

// DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
message Executor {
  // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
  message Local {
    reserved 1, 2, 3;
    reserved "resolutions", "enable_introspection", "max_depth";
  }

  // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
  message Remote {
    // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
    message Extraction {
      // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
      message DynamicMetadataExtraction {
        reserved 1, 2;
        reserved "metadata_namespace", "key";
      }
      
      reserved 1, 2, 3;
      reserved "value", "header", "dynamic_metadata";
    }

    // DEPRECATED: This message is deprecated and has been removed from use as of gloo 1.20. Message is being kept to prevent future use of these names and fields
    message RemoteSchemaRequest {
      reserved 2, 3;
      reserved "headers", "query_params";
    }
    
    reserved 1, 2, 3;
    reserved "server_uri", "request", "span_name";
  }
  
  reserved 1, 2;
  reserved "local", "remote";
}
